:root{
  --white:#ffffff;
  --black:#0a0a0a;
  --green:#22c55e;
  --gray-50:#fafafa;
  --gray-100:#f5f5f5;
  --gray-200:#e5e7eb;
  --gray-400:#9ca3af;
  --gray-500:#6b7280;
  --radius:14px;
  --container:1100px;
  --pad:16px;
  --fade: 360ms;
}

*{box-sizing:border-box}
html,body{margin:0;padding:0;background:var(--white);color:var(--black);font-family:system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Cantarell,Noto Sans,sans-serif;line-height:1.4}
img{max-width:100%;height:auto;display:block}
.no-wrap{white-space:nowrap}

.container{max-width:var(--container);margin:0 auto;padding:0 var(--pad)}
.site-header{border-bottom:1px solid var(--gray-200);background:var(--white)}
.brand{display:flex;gap:10px;align-items:center;text-decoration:none;color:inherit;font-weight:700}
.logo{height:32px;width:auto}

.hero{padding:28px 0;border-bottom:1px solid var(--gray-200);background:linear-gradient(0deg,var(--white),var(--gray-50))}
.hero-inner{display:flex;align-items:center;justify-content:space-between;gap:20px;flex-wrap:wrap}
.hero .tight{margin:0;font-size:clamp(1.3rem,3.2vw,2rem)}
.hero .meta{color:var(--gray-500);margin:8px 0}
.hero .cta{display:flex;gap:10px;flex-wrap:wrap}
.hero .btn{margin-top:6px}

.hero-index .search-wrap{margin-top:12px}
#q{width:min(520px,100%);padding:12px 14px;border:1px solid var(--gray-200);border-radius:10px;outline:none}
#q:focus{border-color:var(--green);box-shadow:0 0 0 3px #22c55e22}

.btn{display:inline-flex;align-items:center;gap:8px;border:1px solid var(--black);color:var(--black);background:var(--white);padding:10px 14px;border-radius:10px;text-decoration:none;font-weight:600}
.btn:hover{background:var(--gray-100)}
.btn-green{background:var(--green);border-color:var(--green);color:var(--white)}
.btn-green:hover{filter:brightness(0.95)}

.dot{padding:0 8px;color:var(--gray-400)}
.dim{opacity:.9}
.slash{color:var(--green)}
.meta strong{font-weight:700}

.viewer{padding:22px 0}
.flip-wrap{position:relative;width:min(420px,100%);margin:0 auto;aspect-ratio:63/88;transform-style:preserve-3d;perspective:1000px;cursor:pointer}
.flip-img{position:absolute;inset:0;width:100%;height:100%;object-fit:contain;backface-visibility:hidden;transition:transform .35s ease}
.flip-img.back{transform:rotateY(180deg)}
.flipped .front{transform:rotateY(180deg)}
.flipped .back{transform:rotateY(360deg)}
.hint{text-align:center;color:var(--gray-500);font-size:.9rem;margin-top:8px}

.overall{display:grid;place-items:center}
.circle{
  --angle: 0%;
  width:120px;height:120px;border-radius:50%;
  background: conic-gradient(var(--green) var(--angle), var(--gray-200) 0);
  display:grid;place-items:center;
}
.circle-inner{
  width:86px;height:86px;border-radius:50%;background:var(--white);
  display:grid;place-items:center;
  font-size:1.6rem;font-weight:800;color:var(--black);
  border:2px solid var(--gray-200);
}
.circle-label{text-align:center;margin-top:8px;font-weight:700}

.grades{padding:18px 0}
.grid-2{display:grid;grid-template-columns:1fr;gap:20px}
@media(min-width:860px){.grid-2{grid-template-columns:1fr 1fr}}

/* Subgrade rows: label/value above, bar full width below */
.g { margin: 12px 0; }
.g-head {
  display: flex;
  justify-content: space-between;
  align-items: baseline;
  gap: 12px;
}
.g-head .label { font-weight: 700; }
.g-head .value { font-weight: 700; min-width: 2ch; text-align: right; }

/* Full-width bar */
.bar { height: 10px; background: var(--gray-200); border-radius: 999px; overflow: hidden; width: 100%; }
.bar > span { display: block; height: 100%; width: 0; background: var(--green); transition: width .6s ease; }

.remarks{margin-top:10px;padding:10px;border:1px solid var(--gray-200);border-radius:var(--radius);background:var(--gray-50);font-size:.95rem}
.remarks div{margin:4px 0}

.compare{padding:18px 0}
.bars{display:grid;grid-auto-flow:column;gap:16px;align-items:end;justify-content:center;min-height:160px;padding:8px;border:1px solid var(--gray-200);border-radius:var(--radius);background:var(--white)}
.barv{display:grid;grid-template-rows:1fr auto auto;gap:6px;width:90px;text-align:center}
.barv-fill{height:0;background:var(--green);border-radius:8px 8px 0 0;transition:height .6s ease}
.bars.animate .barv-fill{height:var(--h)}
.barv-count{font-weight:700}
.barv-label{font-size:.9rem;color:var(--gray-500)}

.grid-tiles{display:grid;grid-template-columns:repeat(auto-fill,minmax(220px,1fr));gap:14px;padding:18px 0}
.tile{border:1px solid var(--gray-200);border-radius:12px;overflow:hidden;text-decoration:none;color:inherit;background:var(--white);transform:translateY(8px);opacity:0;transition:opacity var(--fade) ease, transform var(--fade) ease}
.tile.is-visible{opacity:1;transform:none}
.thumb{aspect-ratio:63/88;width:100%;object-fit:cover}
.tile .meta{padding:10px}
.tile .meta strong{display:block}
.tile .meta small{display:block;color:var(--gray-500)}
.tile .meta .serial{color:var(--black)}

.site-footer{border-top:1px solid var(--gray-200);padding:18px 0;margin-top:14px;background:var(--white)}
.fine{color:var(--gray-500);font-size:.9rem}

/* Default: visible (so pages never look blank if JS fails) */
.reveal { opacity: 1; transform: none; }

/* When JS is active, add animations */
.js .reveal { 
  opacity: 0; 
  transform: translateY(10px); 
  transition: opacity var(--fade) ease, transform var(--fade) ease; 
}
.js .reveal.is-visible { opacity: 1; transform: none; }

/* Tiles too (optional but nice) */
.js .tile { opacity: 0; transform: translateY(8px); transition: opacity var(--fade) ease, transform var(--fade) ease; }
.js .tile.is-visible { opacity: 1; transform: none; }

@media (prefers-reduced-motion: reduce){
  .reveal,.tile{opacity:1;transform:none;transition:none}
  .bar>span,.barv-fill{transition:none}
  .circle{background: conic-gradient(var(--green) var(--angle), var(--gray-200) 0)}
}
